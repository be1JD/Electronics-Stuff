Version 4
SHEET 1 1388 680
WIRE 736 -544 224 -544
WIRE 1152 -544 736 -544
WIRE 736 -480 736 -544
WIRE 864 -480 736 -480
WIRE 1152 -480 1152 -544
WIRE 1296 -480 1152 -480
WIRE 864 -384 736 -384
WIRE 1296 -384 1152 -384
WIRE 224 -304 224 -544
WIRE 736 -112 736 -384
WIRE 1152 -112 1152 -384
WIRE 528 -32 528 -80
WIRE 688 -32 528 -32
WIRE 944 -32 944 -80
WIRE 1104 -32 944 -32
WIRE 224 0 224 -224
WIRE 544 128 544 80
WIRE 736 128 736 -16
WIRE 736 128 544 128
WIRE 736 224 736 128
WIRE 224 256 224 80
WIRE 224 544 224 336
WIRE 496 544 224 544
WIRE 736 544 736 304
WIRE 736 544 496 544
WIRE 1152 544 1152 -16
WIRE 1152 544 736 544
WIRE 496 592 496 544
FLAG 496 592 0
SYMBOL voltage 224 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 4.2
SYMBOL voltage 224 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 4.2
SYMBOL voltage 224 -320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 4.2
SYMBOL nmos 688 -112 R0
SYMATTR InstName M1
SYMBOL res 720 208 R0
SYMATTR InstName shunt_resistor
SYMATTR Value 1
SYMBOL nmos 1104 -112 R0
SYMATTR InstName M2
TEXT 792 -432 Left 2 ;Output
TEXT 440 -112 Left 2 ;Output Control
TEXT 648 -680 Left 4 ;Module 3
TEXT -288 -472 Left 3 ;I/O pins
TEXT -304 -352 Left 2 ;- 2 Power Input
TEXT -304 -296 Left 2 ;- 4 Power Output
TEXT 464 64 Left 2 ;Data Output
TEXT -304 -232 Left 2 ;- 1 Data Output
TEXT -640 -24 Left 2 ;NOTE :- 1 ohm is big resistance so need to decrease it
TEXT -640 16 Left 2 ;NOTE :- We actually don't need separate mosfet?Think about it
TEXT 872 -120 Left 2 ;charging control
TEXT 1240 -432 Left 2 ;Charging
TEXT -640 56 Left 2 ;NOTE :- How to read input charging current
TEXT -640 96 Left 2 ;NOTE :- Charging mosfet is not turning off
TEXT -512 128 Left 2 ;(because of flyback diode)
